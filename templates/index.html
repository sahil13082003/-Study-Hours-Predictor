{% extends "base.html" %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2><i class="fas fa-calculator"></i> Exam Score Predictor</h2>
        <p>Enter your study details to predict your exam performance</p>
    </div>
    
    <div class="card-body">
        <form method="POST" action="/predict" class="prediction-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="study_hours">
                        <i class="fas fa-book"></i> Daily Study Hours
                    </label>
                    <input type="number" id="study_hours" name="study_hours" 
                           min="0" max="12" step="0.1" 
                           value="{{ input_data.study_hours if input_data else '6' }}" 
                           required>
                    <small>Average hours of study per day (0-12)</small>
                </div>

                <div class="form-group">
                    <label for="previous_score">
                        <i class="fas fa-chart-line"></i> Previous Exam Score (%)
                    </label>
                    <input type="number" id="previous_score" name="previous_score" 
                           min="0" max="100" step="0.1" 
                           value="{{ input_data.previous_score if input_data else '75' }}" 
                           required>
                    <small>Your last exam score percentage</small>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="sleep_hours">
                        <i class="fas fa-bed"></i> Daily Sleep Hours
                    </label>
                    <input type="number" id="sleep_hours" name="sleep_hours" 
                           min="4" max="12" step="0.1" 
                           value="{{ input_data.sleep_hours if input_data else '7' }}" 
                           required>
                    <small>Average hours of sleep per night (4-12)</small>
                </div>

                <div class="form-group">
                    <label for="attendance">
                        <i class="fas fa-user-check"></i> Class Attendance (%)
                    </label>
                    <input type="number" id="attendance" name="attendance" 
                           min="0" max="100" step="0.1" 
                           value="{{ input_data.attendance if input_data else '85' }}" 
                           required>
                    <small>Your class attendance percentage</small>
                </div>
            </div>

            <div class="form-submit">
                <button type="submit" class="btn-predict">
                    <i class="fas fa-magic"></i> Predict My Score
                </button>
            </div>
        </form>

        {% if prediction %}
        <div class="prediction-result">
            <div class="result-score">
                <i class="fas fa-trophy"></i>
                <span class="score">{{ prediction }}%</span>
            </div>
            <div class="result-message">
                {% if prediction >= 90 %}
                    <p class="excellent">üåü Excellent! Outstanding performance expected!</p>
                {% elif prediction >= 80 %}
                    <p class="very-good">üéâ Very Good! Great score predicted!</p>
                {% elif prediction >= 70 %}
                    <p class="good">üëç Good! Solid performance expected!</p>
                {% elif prediction >= 60 %}
                    <p class="average">üìö Average. Consider studying more!</p>
                {% else %}
                    <p class="needs-improvement">‚ö†Ô∏è Needs improvement. Focus on your studies!</p>
                {% endif %}
            </div>
        </div>
        {% endif %}
    </div>
</div>


{% endblock %}